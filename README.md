MeiYou & Shortcut

程序开发目标和动机

新妈妈需要记录孩子的吃喝拉撒，需要频繁关注时间，通过手机来记录婴儿的各种数据，非常不容易，特别是在晚上，据研究显示，夜间手机蓝光在婴儿附近时，会提高散光的几率，为了能够让宝妈

新建iOS备忘录，将以下内容粘贴到备忘录中保存

下载shortcut文件，先运行检查类的指令（绿色），后运行拉屎类的指令（红色），最后运行喂奶类的指令（紫色），逐个检查报错并修正。

---------------------
哺乳记录
babyID
Token

口令：
宝宝拉屎了
宝宝尿尿了
宝宝拉屎加尿尿
开始喂奶
左侧Over
右侧Over
记录单侧


Start@2025-01-05 23:15:04
EndR@2025-01-05 23:20:57&喂奶5分钟
Start@2025-01-05 23:25:23
EndL@2025-01-05 23:39:21&喂奶13分钟

----------------------

开发和使用说明：

1，babyID和Token

babyID和Token是和美柚APP交互的重要参数，参数通过Stream app在iOS端进行抓包获取，抓包可以截获每次上传喂养数据到美柚的过程，从而获取自己美柚账号的身份认证Token和宝宝的babyID。

2，母乳亲喂系列

母乳亲喂的快捷指令脚本由4个组成，分别是开始喂奶，左侧Over，右侧Over和记录单侧，这四个指令可以直接使用，间接调用的指令包括，检查上次喂奶的开始时间，检查第一次喂奶的结束记录，检查本次喂奶的开始时间和检查本次喂奶的结束记录，以及Post to Meiyou。

当激活“开始喂奶”时，快捷指令会朗读当前时间，并使用格式 Start@时间戳 在备忘录哺乳记录中生成一次记录，并会等待300秒（5分钟），提醒用户已经喂奶5分钟，再等待300秒，提醒用户已经喂奶10分，后续将不再提醒，任何对手机的操作都会打断等待的步骤，所以建议喂奶时不要用手机。

当激活“左侧Over”或“右侧Over”时，快捷指令会朗读当前时间，并使用格式 EndR|L@时间戳&喂奶N分钟 在备忘录哺乳记录中生成一条记录，记录生成后会查询在备忘录中上上次的Start@时间戳记录进行一次判断，也就是和上一次喂奶的时间比较，如果超过1小时，说明是上一顿奶和下一顿奶的关系，就会朗读“请拍嗝后再次启动开始喂奶”，因为你还需要喂另一侧，如果和上次Start@的时间比较在1小时内，说明是同一顿喂奶的左右两侧都完成了，就会启动Post to Meiyou脚本，将最近记录的2次Start和2次End记录统计后上传到美柚。

